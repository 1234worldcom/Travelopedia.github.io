<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Maps - Travelopedia</title>

  <link rel="icon" type="image/x-icon" href="http://127.0.0.1:5500/img/logo.png">
  <link rel="stylesheet" href="https://unpkg.com/cesium-navigation@0.1.6/cesium-navigation.css">
<script src="https://unpkg.com/cesium-navigation@0.1.6/cesium-navigation.min.js"></script>

  <script src="https://cesium.com/downloads/cesiumjs/releases/1.98/Build/Cesium/Cesium.js"></script>
  <style>
    @import url(https://cesium.com/downloads/cesiumjs/releases/1.98/Build/Cesium/Widgets/widgets.css);

    body {
      margin: 0;
      padding: 0;
    }

    #cesiumContainer {
      position: absolute;
      top: 70px; /* Adjusted to accommodate the header */
      right: 0;
      bottom: 0;
      left: 10px;
    }

    button {
      margin: 5px;
      padding: 10px;
      font-size: 14px;
      cursor: pointer;
      background-color: #3498db;
      color: #fff;
      border: none;
      border-radius: 5px;
    }

    button:hover {
      background-color: #2980b9;
    }
    #toolbar {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 999;
  background: rgba(255, 255, 255, 0.8);
  padding: 10px;
  border-radius: 5px;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
}


    #addressInput {
      margin-right: 10px;
    }
  </style>
</head>

<body>
  <header>
    

    <nav class="bg-white dark:bg-black-900 fixed w-full z-20 top-0 start-0 border-b border-gray-200 dark:border-gray-600">
      <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
      <a href="index.html" class="flex items-center space-x-3 rtl:space-x-reverse">
          <img src="img/logo.png" class="h-10" alt="Flowbite Logo">
          <span class="self-center text-2xl font-semibold whitespace-nowrap dark:text-white">Travelopedia</span>
      </a>
      <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
        <a href="Sign_up.html"><button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Sign up</button>
          <button data-collapse-toggle="navbar-sticky" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-sticky" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
            </svg>
        </button></a>  
        &nbsp;  &nbsp;
        <a href="login.html"><button type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Login</button>
          <button data-collapse-toggle="navbar-sticky" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-sticky" aria-expanded="false">
            <span class="sr-only">Open main menu</span>
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
            </svg>
        </button></a>
      </div>
      
      <div class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1" id="navbar-sticky">
        <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
          <li>
            <a href="index.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700aaaaaa" aria-current="page">Home</a>
          </li>
          <li>
            <a href="About.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">About</a>
          </li>
          <li>
            <a href="Tools.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700">Tools</a>
          </li>
          <li>
            <a href="maps.html" class="block py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500">Maps</a>
          </li>
        </ul>
      </div>
      </div>
    </nav>
    
      </header>
     
  <div id="cesiumContainer"></div>
  <div id="toolbar">
   
    <input type="text" id="addressInput" placeholder="Enter address">
    <button onclick="goToAddress()">Go to Address</button>
    <button onclick="zoomIn()">Zoom In</button>
    <button onclick="zoomOut()">Zoom Out</button>
    <button onclick="locateUser()">Locate Me</button>
   
    
  </div>
  
  

  <script>
  
  const key = 'Agjh9KHkcRAKFpPSGiXP';
const viewer = new Cesium.Viewer('cesiumContainer', {
  animation: false,
  baseLayerPicker: false,
  navigationHelpButton: false,
  sceneModePicker: false,
  homeButton: false,
  geocoder: false,
  fullscreenButton: false,
  timeline: false,
  terrainProvider: new Cesium.CesiumTerrainProvider({
    url: `https://api.maptiler.com/tiles/terrain-quantized-mesh-v2/?key=${key}`,
    credit: new Cesium.Credit(
      '\u003ca href="https://www.maptiler.com/copyright/" target="_blank"\u003e\u0026copy;MapTiler\u003c/a\u003e \u003ca href="https://www.openstreetmap.org/copyright" target="_blank"\u003e\u0026copy; OpenStreetMap contributors\u003c/a\u003e',
      true
    ),
    requestVertexNormals: true,
  }),
  imageryProvider: new Cesium.UrlTemplateImageryProvider({
    url: `https://api.maptiler.com/tiles/satellite-v2/{z}/{x}/{y}.jpg?key=${key}`,
    minimumLevel: 0,
    maximumLevel: 20,
    tileWidth: 512,
    tileHeight: 1024,
    credit: new Cesium.Credit(
      '\u003ca href="https://www.maptiler.com/copyright/" target="_blank"\u003e\u0026copy; MapTiler\u003c/a\u003e \u003ca href="https://www.openstreetmap.org/copyright" target="_blank"\u003e\u0026copy; OpenStreetMap contributors\u003c/a\u003e',
      true
    ),
  }),
});

// Adjust the camera view
viewer.camera.setView({
  destination: Cesium.Cartesian3.fromDegrees(8.67, 46.72, 8000),
  orientation: {
    pitch: Cesium.Math.toRadians(-45),
  },
});

// Show the sky, atmosphere, and stars
viewer.scene.skyAtmosphere.show = true;
viewer.scene.skyBox.show = true;
viewer.scene.sun.show = true;

// Add 3D mountains (Cesium terrain exaggeration)
viewer.scene.terrainExaggeration = 2.0;
    // Replace your existing viewer.camera.setView with this code
viewer.camera.flyTo({
  destination: Cesium.Cartesian3.fromDegrees(8.67, 46.72, 4500),
  orientation: {
    pitch: Cesium.Math.toRadians(-20),
    heading: Cesium.Math.toRadians(0), // Adjust the heading angle
    roll: 0.0 // Set roll to 0 for a level view
  },
  duration: 2.0, // Set the duration of the flight (in seconds)
  complete: function () {
    // Code to execute after the flight is complete (optional)
    console.log('Camera flight complete.');
  },
  endTransform: Cesium.Matrix4.IDENTITY, // Set the end transform to ensure a smooth transition
  convert: true // Automatically convert destination to the WGS84 ellipsoid
});

// Show the sky
viewer.scene.skyAtmosphere.show = true;
viewer.scene.skyBox.show = true;


    // Pin for user's location
    var pinBuilder = new Cesium.PinBuilder();
    var userLocationPin = viewer.entities.add({
      position: Cesium.Cartesian3.fromDegrees(8.67, 46.72),
      billboard: {
        image: pinBuilder.fromColor(Cesium.Color.RED, 48).toDataURL(),
        verticalOrigin: Cesium.VerticalOrigin.BOTTOM,
      }
    });

    function zoomIn() {
      viewer.camera.zoomIn();
    }

    function zoomOut() {
      viewer.camera.zoomOut();
    }

    function locateUser() {
      if ('geolocation' in navigator) {
        navigator.geolocation.getCurrentPosition(function (position) {
          var userLocation = Cesium.Cartesian3.fromDegrees(
            position.coords.longitude,
            position.coords.latitude
          );
          viewer.camera.flyTo({
            destination: Cesium.Cartesian3.fromDegrees(
              position.coords.longitude,
              position.coords.latitude,
              5000
            ),
          });
          userLocationPin.position = userLocation;
        }, function (error) {
          console.error('Error getting user location:', error);
        });
      } else {
        alert('Geolocation is not supported by your browser.');
      }
    }

    async function goToAddress() {
      var addressInput = document.getElementById('addressInput').value;
      if (addressInput) {
        try {
          const response = await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(addressInput)}&key=33e743df3b374bb8b2e8dd8ce75735f0`);
          const data = await response.json();

          if (data.results && data.results.length > 0) {
            const result = data.results[0];
            viewer.camera.flyTo({
              destination: Cesium.Cartesian3.fromDegrees(
                result.geometry.lng,
                result.geometry.lat,
                5000
              ),
            });
          } else {
            console.error('No results found for the address.');
          }
        } catch (error) {
          console.error('Error geocoding address:', error);
        }
      } else {
        alert('Please enter an address.');
      }
    }
  

  </script>
</body>

</html>
